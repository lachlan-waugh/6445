<!doctype html><html lang=en><head><meta charset=utf-8><title>03: filesystems</title>
<meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=../reveal-js/css/reset.css><link rel=stylesheet href=../reveal-js/css/reveal.css><link rel=stylesheet href=../reveal-js/css/theme/black.css id=theme><link rel=stylesheet href=../highlight-js/default.min.css></head><body><div class=reveal><div class=slides><section><h2 id=well-get-started-at-1905>We&rsquo;ll get started at 19:05</h2></section><section data-noprocess data-shortcode-slide class=center><h1 id=file-systems--autopsy>file systems && autopsy</h1><h3 id=comp6445-week03>comp6445 week03</h3></section><section><h2 id=file-systems>File systems</h2><ul><li>FAT32</li><li>NTFS</li><li>Ext</li><li>Autopsy</li></ul></section><section><h3 id=fat32>FAT32</h3><section data-shortcode-section><ul><li>File Allocation Table (FAT)</li><li>Directory Entries (DE)</li></ul></section><section><p><img src=../assets/img/week03/fat32.png alt></p></section><section><blockquote><p>FAT: linked list of statuses of all clusters</p></blockquote><table><thead><tr><th>status</th><th>indicates</th></tr></thead><tbody><tr><td><code>0x?0000000</code></td><td>free cluster</td></tr><tr><td><code>0x?0000002</code></td><td>cluster in use (value is next cluster for file)</td></tr><tr><td><code>0x?FFFFFFF</code></td><td>cluster in use EOF marker</td></tr></tbody></table></section><section><h3 id=deleted-files>Deleted files</h3><ul><li>what happens to file contents when a file is deleted</li><li>what else happens (specifically in FAT?)</li></ul></section><section><h3 id=deleted-files-1>Deleted files</h3><ul><li>what else happens (specifically in FAT?)<ul><li>first character in filename changed to <code>0xe5</code></li><li>all clusters in FAT replaced with <code>0x00</code></li></ul></li></ul><blockquote><p>why are these important</p></blockquote></section></section><section><h3 id=ntfs>NTFS</h3><section data-shortcode-section><ul><li><p>$MFT (DEs of NTFS)</p></li><li><p>$BITMAP (FATs of NTFS)</p></li><li><p>Everything is a fileâ„¢</p></li><li><p>Everything in a file is an attribute</p></li></ul></section><section><p><img src=../assets/img/week03/ntfs.png alt></p></section><section><h3 id=extents>Extents</h3><ul><li>Similar to Cluster Runs</li><li>A contiguous area of storage reserved for a file</li></ul></section><section><h3 id=alternative-data-streams>Alternative data streams</h3><ul><li>Also a file attribute</li><li>Honestly pretty stupid, not honored by other FSs<ul><li>Originally used to provide compatibility with Macs</li><li>Now mostly used to hide malware lol</li></ul></li></ul><blockquote><p>read more <a href=https://owasp.org/www-community/attacks/Windows_alternate_data_stream>here</a></p></blockquote></section><section><h3 id=deleted-files>Deleted files</h3><ul><li>what happens for NTFS</li></ul></section><section><h3 id=deleted-files-1>Deleted files</h3><ul><li>what happens for NTFS<ul><li><code>$MFT</code> marks <code>$FILE</code> entry as available</li><li><code>$DATA</code> attribute read, <code>$BITMAP</code> updated to show cluster runs no longer used</li><li>nothing is wiped/deleted from <code>$MFT</code> or clusters</li></ul></li></ul><blockquote><p>until the FILE entry is overwritten, the data is still there</p></blockquote></section></section><section><h3 id=ext>Ext</h3><section data-shortcode-section><p>TODO</p></section></section><section><h3 id=autopsy>Autopsy</h3><section data-shortcode-section><p>TODO</p></section></section><section><h2 id=random-extra-stuff>Random extra stuff</h2><blockquote><p>I found another wierd file on my computer, you can download it <a href=../6445/demos/anotherone/whatisthis>here</a></p></blockquote></section><section><h2 id=walkthrough>Walkthrough</h2><blockquote><p>Any questions about last week&rsquo;s investigation</p></blockquote></section><section><h2 id=investigation>Investigation</h2><blockquote><p>Any questions so far?</p></blockquote></section></div></div><script type=text/javascript src=../reveal-hugo/object-assign.js></script><a href=../reveal-js/css/print/ id=print-location style=display:none></a><script type=text/javascript>var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type=application/json id=reveal-hugo-site-params>null</script><script type=application/json id=reveal-hugo-page-params>null</script><script src=../reveal-js/js/reveal.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type=text/javascript src=../reveal-js/plugin/markdown/marked.js></script><script type=text/javascript src=../reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=../reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=../reveal-js/plugin/zoom-js/zoom.js></script><script type=text/javascript src=../reveal-js/plugin/notes/notes.js></script></body></html>